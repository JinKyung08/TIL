# DAY 02

## -- MySQL --

### ▷ 테이블 생성

- 작성 하려는 DB가 이미 있는지 확인

  - SHOW DATABASES;

-  처음부터 다시 시작하기 위해 DB를 삭제하고 다시 만드기

  - DROP 개채명;  
  - DROP DATABASES DB명;
  - DROP TABLE 테이블명;
  - DROP VIEW 뷰명;
    - DROP DATABASE IF EXISTS DB명;

- DB 새롭게 만들기

  - CREAT DATABASE DB명;

- DB안으로 들어가기(사용하기)

  - USE DB명;

- 테이블 생성

  - CREATE TABLE 테이블명(

    속성명 데이터타입 NOT NULL   DEFAULT 값

    PRIMARY KEY(속성명),...

    UNIQUE(대체키_속성명),..

    FOREIGN KEY(참조하는 외래키명 즉 열이름)  REFERENCES 참조되는 테이블명(참조되는 테이블의 열이름)

    );

    - 자동으로 데이터 증가 : 숫자형식만 가능, PRIMARY KEY 또는 UNIQUE로 지정해 줘야 함 
    - AUTO_INCREMENT는 정수형 타입에만 설정 가능

- SELECT 열이름, ... FROM 테이블명 검색(조회)

  - SELECT 열이름,... FROM 테이블명; - 속도 조금 빠름
  - SELECT * FROM 테이블명;

- 데이터 삽입

  - INSERT INTO 테이블명(열이름, ... ) VALUES (값, ...);  열이름과 값의 개수는 같아야 함
  
  - INSERT INTO 테이블명 VALUES(값,...);
  
  - INSERT INTO 테이블명 VALUES(값,...); VALUES (값,...),....;
  
    - AUTO_INCREMENT는 NULL 값으로 지정하면 자동으로 값이 입력됨

### ▷ 테이블 검색(SELECT)

- SELECT 열이름,...    /3번째       보여줌
  FROM 테이블명      /1번째
  WHERE 조건;		  /2번째

- 조건절
  	
  - 100이상 200이하 => 컬럼명>=100 AND 컬럼명<=200
      						컬럼명 BETWEEN 100 AND 200
  
  - 100초과 200미만 => 컬럼명 > 100 and 컬럼명 < 200
      						BETWEEN X
          
  - '사과','딸기','복숭아' => 컬럼명 = '사과' or 컬럼명='딸기'or 컬럼명 ='복숭아'
      								컴럼명 IN ('사과','딸기','복숭아')

  - \>, >=, <, <=, =
  
  - 널값이면 : is null
  
  - 널값이 아니면 : is not null
  
  - 와일드카드 : %, _
  
    - 김으로 시작하는 : 컬럼명 like '김%', 첫글자는 반드시 김, 나머지는 어떤 글자나 가능
  
    - 점으로 끝나는 : 컬럼명 like '%점'
  
    - 화를 포함하는 : 컬럼명 like '%화%'
  
    -  SELECT 열이름 as 별명,....	 3번째
       FROM 테이블명                      1번째
       WHERE 조건					        2번째
  
       ORDER BY 컬럼명(열이름) DESC(내림) | ASC(오름 생략해도 기본적으로 오름차순)  4번째
  
- DISTINCT - 중복을 제거
  
- FORMAT (숫자, 소수점 이하 자릿수) - 소숫점이하를 표시하고 숫자에 천단위 구분 기호 표시
  	
  - ex) FORMAT(78957, 1 ) => 78,957.0
  
- 집계함수(=그룹함수)
  	
  - 합계 : sum(열이름)
  - 평균 : avg(열이름)
  - 최댓값 : max(열이름)
  - 최솟값 : min(열이름)
  - 개수 : count(*) : 행의 개수(null값도 포함) 
    		             count(열이름) : null값을 제외한 개수
                   count(distinct) : 중복을 제외한 개수
          		  - 주의) 집계함수는 where절에서 사용할 수 없다.
   - 문자열 연결 함수 : concat()
      		ex) concat(2022,'년 ','즐거운 mysql')=> '2022년 즐거운 mysql'
  
### ▷ 데이터 삭제(DELETE)/데이터 갱신(UPDATE)

- 행을 삭제 : DELETE

- 테이블 삭제 : DROP

  - DELETE FROM 테이블명; => 테이블 구조만 남기고 데이터는 모두 삭제
  - DELETE FROM 테이블명 WHERE 조건; => 조건에 해당하는 데이터만 삭제 

  ex) 회원탈퇴, 주문취소

- 테이블 복사

  - CREATE TABLE 복사할테이블명 (SELECT문 사용);

- 업데이트

  - UPDATE 테이블명 SET 컬럼명 = 값,...

    WHERE 조건;

### ▷ 정규화 (Normalization)

- 이상현상(Anomaly)

  - 테이블에서 일부 속성들의 종속으로 인해 데이터의 중복이 발생하고, 이 중복으로 인해 테이블 조작시 문제가 발생하는 현상을 의미

- 갱신이상

  - 반복된 데이터 중에 일부를 갱신할 시 데이터의 불일치가 발생(불일치 문제)

- 삽입이상

  - 불필요한 정보를 함께 저장하지 않고서는 어떤 정보를 저장하는 것이 불가능 

- 삭제이상

  - 필요한 정보를 함께 삭제하지 않고서는 어떤 정보를 삭제하는 것이 불가능 (연쇄삭제 문제 발생)

- 함수적 종속 : 결정자 (key)-> 종속자(key로 알 수 있는 항목)

  - 완전 함수 종속  : 기본키 -> 1
  - 부분 함수 종속
  - 이행적 함수 종속 : A->B(A를 알면 B를 알 수 있음), B->C ,A->C

**1. 정규화**

  - 테이블의 속성들이 상호 종속적인 관계를 갖는 특성을 이용하여 테이블을 무손실 분해하는 과정

  - 목적 : 가능한 한 중복을 제거하여 삽입 ,삭제, 갱신 이상의 발생 가능성을 줄이는 것

    

    1 ) 제 1 정규화 (1NF)

    - 테이블의 모든 속성 값이 원자 값으로만 되어 있는 정규형 / 하나의 속성에 두개의 값(도메인)이 담기지 않게 하는 것
      - 도메인 : 열안에 들어갈 수 있는 값의 범위

    

    

    

    